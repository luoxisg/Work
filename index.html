<!DOCTYPE html><html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>é¡¹ç›®å·¥ä½œè¯´æ˜</title>
  <style>
    /* å…¨å±€æ ·å¼ */
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", Arial, sans-serif;
      background-color: #f5f5f5;
      color: #333;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      position: relative;
    }
    header {
      background-color: #0078d7;
      color: #fff;
      text-align: center;
      padding: 1rem;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      position: relative;
    }
    /* è¯­è¨€åˆ‡æ¢æŒ‰é’® */
    #lang-toggle {
      position: absolute;
      top: 0.75rem;
      right: 1rem;
      background: transparent;
      border: none;
      color: #fff;
      font-size: 1rem;
      cursor: pointer;
    }
    main {
      flex: 1;
      padding: 1rem;
      display: flex;
      flex-direction: column;
    }
    .card {
      background: #fff;
      border-radius: 8px;
      margin-bottom: 1rem;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
      transition: transform 0.2s;
      cursor: pointer;
    }
    .card:hover {
      transform: translateY(-2px);
    }
    .card .title {
      display: block;
      padding: 1.25rem;
      color: #0078d7;
      font-size: 1.1rem;
      text-decoration: none;
    }
    footer {
      text-align: center;
      padding: 0.75rem;
      font-size: 0.9rem;
      color: #777;
    }/* é¡¹ç›®è§†å›¾ï¼ˆiframe + è¿”å›ï¼‰ */
#project-view {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #fff;
  display: none;
  flex-direction: column;
  z-index: 900;
}
#project-header {
  background: #0078d7;
  color: #fff;
  padding: 0.75rem;
  display: flex;
  align-items: center;
}
#project-back {
  border: none;
  background: transparent;
  color: #fff;
  font-size: 1rem;
  cursor: pointer;
  margin-right: 1rem;
}
#project-frame {
  flex: 1;
  border: none;
}

/* AI Chatbox æ ·å¼ï¼ˆä¿æŒåœ¨æœ€ä¸Šå±‚ï¼‰ */
#chat-toggle {
  position: fixed;
  bottom: 1rem;
  right: 1rem;
  width: 56px;
  height: 56px;
  background-color: #0078d7;
  border-radius: 50%;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #fff;
  font-size: 28px;
  z-index: 1000;
}
#chat-box {
  position: fixed;
  bottom: 1rem;
  right: 1rem;
  width: 300px;
  max-height: 400px;
  background: #fff;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  display: none;
  flex-direction: column;
  overflow: hidden;
  z-index: 1000;
}
#chat-header {
  background: #0078d7;
  color: #fff;
  padding: 0.5rem;
  font-weight: bold;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
#chat-messages {
  flex: 1;
  padding: 0.5rem;
  overflow-y: auto;
  font-size: 0.9rem;
}
.msg { margin-bottom: 0.75rem; }
.msg.user { text-align: right; }
.msg .bubble {
  display: inline-block;
  padding: 0.5rem;
  border-radius: 12px;
  max-width: 80%;
}
.msg.user .bubble { background: #0078d7; color: #fff; }
.msg.ai .bubble { background: #f1f1f1; color: #333; }
#chat-input {
  display: flex;
  border-top: 1px solid #e0e0e0;
}
#chat-input input {
  flex: 1;
  border: none;
  padding: 0.5rem;
  font-size: 0.9rem;
}
#chat-input button {
  border: none;
  background: #0078d7;
  color: #fff;
  padding: 0 1rem;
  cursor: pointer;
}

  </style>
</head>
<body>
  <header>
    <h1 id="header-title">é¡¹ç›®å·¥ä½œè¯´æ˜</h1>
    <button id="lang-toggle">EN</button>
  </header>
  <main id="list-view">
    <div class="card" data-url="https://luoxisg.github.io/paint/">
      <span class="title" id="card1">ä¸‰è½´å–·ç»˜ç³»ç»Ÿå·¥ä½œè¯´æ˜</span>
    </div>
    <div class="card" data-url="https://luoxisg.github.io/cutting/">
      <span class="title" id="card2">è£åˆ‡ç³»ç»Ÿå·¥ä½œè¯´æ˜</span>
    </div>
    <div class="card" data-url="https://github.com/luoxisg/Alboxnew">
      <span class="title" id="card3">Alboxnew ä»“åº“</span>
    </div>
    <div class="card" data-url="https://github.com/luoxisg/RoboMaster-SDK">
      <span class="title" id="card4">RoboMaster-SDK ä»“åº“</span>
    </div>
    <div class="card" data-url="https://github.com/luoxisg/xcareBrochure">
      <span class="title" id="card5">xcareBrochure ä»“åº“</span>
    </div>
    <div class="card" data-url="https://github.com/luoxisg/xcare">
      <span class="title" id="card6">xcare ä»“åº“</span>
    </div>
  </main>  <footer id="footer-text">Â© 2025 LuoxiSG</footer>  <!-- é¡¹ç›®è§†å›¾å®¹å™¨ -->  <div id="project-view">
    <div id="project-header">
      <button id="project-back">è¿”å›</button>
      <span id="project-title"></span>
    </div>
    <iframe id="project-frame"></iframe>
  </div>  <!-- AI Chatbox Toggle & çª—å£ -->  <div id="chat-toggle">ğŸ’¬</div>
  <div id="chat-box">
    <div id="chat-header"><span id="chat-header-text">AI å°åŠ©æ‰‹</span><span id="chat-close" style="cursor:pointer;">âœ–ï¸</span></div>
    <div id="chat-messages"></div>
    <div id="chat-input">
      <input type="text" id="chat-text" placeholder="è¯·è¾“å…¥é—®é¢˜â€¦"/>
      <button id="chat-send">å‘é€</button>
    </div>
  </div>  <script>
    // æ–‡æ¡ˆä¸­è‹±æ–‡å¯¹ç…§
    const texts = {
      zh: {
        header: "é¡¹ç›®å·¥ä½œè¯´æ˜",
        card1: "ä¸‰è½´å–·ç»˜ç³»ç»Ÿå·¥ä½œè¯´æ˜",
        card2: "è£åˆ‡ç³»ç»Ÿå·¥ä½œè¯´æ˜",
        card3: "Alboxnew ä»“åº“",
        card4: "RoboMaster-SDK ä»“åº“",
        card5: "xcareBrochure ä»“åº“",
        card6: "xcare ä»“åº“",
        footer: "Â© 2025 LuoxiSG",
        chatHeader: "AI å°åŠ©æ‰‹",
        chatPlaceholder: "è¯·è¾“å…¥é—®é¢˜â€¦",
        chatSend: "å‘é€",
        back: "è¿”å›"
      },
      en: {
        header: "Project Overview",
        card1: "3-Axis Painting System Docs",
        card2: "Cutting System Docs",
        card3: "Alboxnew Repo",
        card4: "RoboMaster SDK Repo",
        card5: "xcareBrochure Repo",
        card6: "xcare Repo",
        footer: "Â© 2025 LuoxiSG",
        chatHeader: "AI Assistant",
        chatPlaceholder: "Type your question...",
        chatSend: "Send",
        back: "Back"
      }
    };
    let lang = 'zh';

    // åˆ‡æ¢ä¸­è‹±æ–‡
    document.getElementById('lang-toggle').addEventListener('click', () => {
      lang = lang === 'zh' ? 'en' : 'zh';
      updateTexts();
      document.getElementById('lang-toggle').textContent = lang === 'zh' ? 'EN' : 'ä¸­';
    });
    function updateTexts() {
      document.getElementById('header-title').textContent = texts[lang].header;
      document.getElementById('card1').textContent = texts[lang].card1;
      document.getElementById('card2').textContent = texts[lang].card2;
      document.getElementById('card3').textContent = texts[lang].card3;
      document.getElementById('card4').textContent = texts[lang].card4;
      document.getElementById('card5').textContent = texts[lang].card5;
      document.getElementById('card6').textContent = texts[lang].card6;
      document.getElementById('footer-text').textContent = texts[lang].footer;
      document.getElementById('chat-header-text').textContent = texts[lang].chatHeader;
      document.getElementById('chat-text').placeholder = texts[lang].chatPlaceholder;
      document.getElementById('chat-send').textContent = texts[lang].chatSend;
      document.getElementById('project-back').textContent = texts[lang].back;
    }

    // é¡¹ç›®è¿›å…¥/é€€å‡º
    const cards = document.querySelectorAll('.card');
    cards.forEach(card => {
      card.addEventListener('click', () => {
        const url = card.dataset.url;
        const title = card.querySelector('.title').textContent;
        document.getElementById('project-title').textContent = title;
        document.getElementById('project-frame').src = url;
        document.getElementById('list-view').style.display = 'none';
        document.getElementById('project-view').style.display = 'flex';
      });
    });
    document.getElementById('project-back').addEventListener('click', () => {
      document.getElementById('project-frame').src = '';
      document.getElementById('project-view').style.display = 'none';
      document.getElementById('list-view').style.display = 'flex';
    });

    // AI Chatbox äº¤äº’
    const toggle = document.getElementById('chat-toggle');
    const box = document.getElementById('chat-box');
    const closeBtn = document.getElementById('chat-close');
    const messages = document.getElementById('chat-messages');
    const input = document.getElementById('chat-text');
    const sendBtn = document.getElementById('chat-send');

    toggle.addEventListener('click', () => box.style.display = 'flex');
    closeBtn.addEventListener('click', () => box.style.display = 'none');
    sendBtn.addEventListener('click', sendMessage);
    input.addEventListener('keypress', e => { if (e.key === 'Enter') sendMessage(); });

    async function sendMessage() {
      const text = input.value.trim();
      if (!text) return;
      appendMessage('user', text);
      input.value = '';
      try {
        const res = await fetch('/api/chat', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ message: text })
        });
        const data = await res.json();
        appendMessage('ai', data.reply);
      } catch {
        appendMessage('ai', lang === 'zh' ? 'è¯·æ±‚å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ã€‚' : 'Request failed, please try again.');
      }
    }
    function appendMessage(who, text) {
      const msg = document.createElement('div');
      msg.className = `msg ${who}`;
      const bubble = document.createElement('div');
      bubble.className = 'bubble';
      bubble.textContent = text;
      msg.appendChild(bubble);
      messages.appendChild(msg);
      messages.scrollTop = messages.scrollHeight;
    }

    // åˆå§‹æ¸²æŸ“
    updateTexts();
  </script></body>
</html>